<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
	
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		$(function () {
			$('#send').click(function () {
			
				$.ajax({
					type: "get",
					url: "./weather.xml",
					
					success: function (data) {
						let str = ""
						$(data).find('list').each(function (index, item) {
							let region = $(this).find('region').text()
							let wind = $(this).find('wind').text()
							let rain = $(this).find('rain').text()
							let temp = $(this).find('temp').text()

							str += '<tr>'
							str += '<td>' + region + '</td>'
							str += '<td>' + wind + '</td>'
							str += '<td>' + rain + '</td>'
							str += '<td>' + temp + '</td>'
							str += '</tr>'
						}); //each
				
						$('tbody').append(str)
						
					} //callback
				}) // ajax
			}) // click
		})
	</script>
	<title>Insert title here</title>
</head>

<body>
	<div class="container">
		<h1>===== OPEN API Weather 데이터 가져오기 =====</h1>
		<h2 id="send">XML 데이터 서버로 요청하기</h2>
		<table>
			<thead>
				<tr>
					<th>REGION</th>
					<th>WIND</th>
					<th>RAIN</th>
					<th>TEMP</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</body>

</html>